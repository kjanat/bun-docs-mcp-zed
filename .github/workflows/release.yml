name: Release Zed Extension

on: { push: { tags: ["v*"] } }

jobs:
  release-extension:
    name: Release Bun Docs MCP Extension
    runs-on: ubuntu-latest
    steps:
      - uses: huacnlee/zed-extension-action@v2
        with:
          extension-name: bun-docs-mcp
          push-to: kjanat/zed-extensions
          create-pullrequest: true
          commit-message: |
            Update bun-docs-mcp to ${{ github.ref_name }}

            Bun Docs MCP extension for Zed - provides documentation lookup via MCP.

            **Changes:** https://github.com/${{ github.repository }}/blob/${{ github.ref_name }}/CHANGELOG.md  
            **Release:** https://github.com/${{ github.repository }}/releases/tag/${{ github.ref_name }}
        env:
          COMMITTER_TOKEN: ${{ secrets.COMMITTER_TOKEN }}
